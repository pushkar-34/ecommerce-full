<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
<%- include('partials/header', { user: user }) %>

<div class="max-w-4xl mx-auto px-6 py-10">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Edit Product</h2>
  
  <form action="/products/edit/<%= product.id %>" method="POST" enctype="multipart/form-data" class="space-y-4 bg-white p-6 rounded-lg shadow-lg">
    <input type="text" name="title" value="<%= product.title %>" required
      class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-400 outline-none">
    
    <input type="number" name="price" value="<%= product.price %>" required
      class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-400 outline-none">
    
    <textarea name="description" required
      class="w-full border border-gray-300 px-4 py-2 rounded-lg h-24 resize-none focus:ring-2 focus:ring-blue-400 outline-none"><%= product.description %></textarea>
    
    <% if (product.image) { %>
      <img src="/uploads/<%= product.image %>" alt="<%= product.title %>" class="w-32 h-32 object-cover rounded">
    <% } %>
    
    <input type="file" name="image" accept="image/*" 
      class="w-full border border-gray-300 px-4 py-2 rounded-lg">
    
    <div class="flex gap-3">
      <button type="submit" 
        class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold shadow">
        Save Changes
      </button>
      <a href="/products" 
        class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold shadow">
        Cancel
      </a>
    </div>
  </form>
</div>
